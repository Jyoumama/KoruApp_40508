<!DOCTYPE html>
<html>
  <% content_for(:stylesheet) do %>
  <%= stylesheet_link_tag 'reservations/new' %>
  <% end %>
  <head>
    <meta charset="utf-8">
    <title>KORURU</title>
    <script src="https://kit.fontawesome.com/f325ea1c55.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="app/assets/stylesheets/reservations/new.scss">
  </head>
  
  <body class="reservations-new">
    
  <div class="container">
  <div class="row">
      <div class="col-12 text-center title">
      <h1>新規予約画面</h1>
      </div>

    <div class="col-12 mt-3 content">
       <% if flash[:notice] %>
        <div class="flash-alert">
          <p><%= flash[:notice] %></p>
        </div>
       <% end %>
       <%= form_with model: @reservation, local: true, class: 'form' do |form| %>
       <%= render 'devise/shared/error_messages', resource: form.object %>
      
      <div class="seat form-group">
        <%= form.label :seat_type, '席のタイプ' %>
        <%= form.text_field :seat_type, class: 'form-control', value: @seat_type %>
         <%= form.collection_select(:seat_type_id, SeatType.all, :id, :name, {}, {class:"select-box", id:"seat_type"}) %>
      </div>

      <%= form_for @reservation do |form| %>
       <div class="day form-group">
        <%= form.label :day, '日付' %>
        <%= form.date_field :day, class: 'form-control' %>
       </div>
       <div class="time form-group">
        <%= form.label :time, '時間' %>
        <%= form.time_field :time, class: 'form-control', value: @reservation.time.to_s(:time) unless @reservation.time.nil? %>
       </div>
       <div class="submit">
        <%= form.submit value: '予約する', class: 'btn btn-primary mx-auto d-block' %>
       </div>
      <% end %>

       <%#<div class="day form-group">%>
        <%# form.label :day, '日付' %>
        <%# form.date_field :day, class: 'form-control', value: @day %>
       <%#</div>%>
       <%#<div class="time form-group">%>
        <%# form.label :time, '時間' %>%>
        <%# if @time.nil? %>%>
        <!-- @time が nil の時、何らかのデフォルト値や空欄にする -->
        <!--%= form.time_field :time, class: 'form-control', value: "" %-->
        <%#%> else %>
        <!--%= form.time_field :time, class: 'form-control', value: Time.parse(@time).strftime("%H:%M") %-->
        <%# end %>
       <!--/div>
        <%= form.hidden_field :day, value: @day %>
        <%= form.hidden_field :time, value: @time %>
        <%= form.hidden_field :start_time, value: @start_time %>
       <div class="submit">
        <%= form.submit value: '予約する', class: 'btn btn-primary mx-auto d-block' %>
       </div>
       <% end %>
    <div class="col-12 text-right">
      <%= link_to '戻る', reservations_path %>
    </div>
  </div>
  </div>
  </div>
</body>
</html>
